# ==================== 数据库配置 ====================
# PostgreSQL 数据库连接字符串
DATABASE_URL=postgresql://username:password@localhost:5432/database_name

# ==================== 服务配置 ====================
# 服务监听端口
PORT=3000
# 服务监听主机
HOST=0.0.0.0

# ==================== JWT 认证配置 ====================
# JWT 签名密钥（生产环境必须修改）
JWT_SECRET=your-jwt-secret-change-in-production

# ==================== Apple Store 配置 ====================
# Apple Issuer ID（从 App Store Connect 获取）
APPLE_ISSUER_ID=your-issuer-id-here
# App Store Connect API Key ID
APPLE_KEY_ID=your-key-id-here
# Base64 编码的私钥内容
APPLE_PRIVATE_KEY=your-base64-encoded-private-key-here
# App Bundle ID
APPLE_BUNDLE_ID=com.example.app
# 环境：sandbox（测试）或 production（生产）
APPLE_ENVIRONMENT=sandbox

# ==================== AI 服务配置 ====================
# OpenAI API 密钥（可选）
OPENAI_API_KEY=your-openai-api-key-here
# 默认 AI 提供商
DEFAULT_AI_PROVIDER=openai

# ==================== 缓存配置 ====================
# 订阅状态缓存 TTL（秒）
SUBSCRIPTION_CACHE_TTL=300
# 是否启用内存缓存
ENABLE_MEMORY_CACHE=true

# ==================== 邮件服务配置（可选） ====================
# SMTP 服务器地址
EMAIL_HOST=smtp.gmail.com
# SMTP 端口
EMAIL_PORT=587
# 发件人邮箱
EMAIL_FROM=noreply@example.com
# SMTP 用户名
EMAIL_USER=your-email@gmail.com
# SMTP 密码或应用专用密码
EMAIL_PASSWORD=your-email-password

# ==================== 功能开关 ====================
# 是否验证 Webhook 签名
WEBHOOK_SIGNATURE_VERIFICATION=true
# 是否启用邮件服务
ENABLE_EMAIL_SERVICE=false
# 是否启用 AI 服务
ENABLE_AI_SERVICE=true

# ==================== 日志配置 ====================
# 日志级别：debug, info, warn, error
LOG_LEVEL=info
# 是否启用 JSON 格式日志
LOG_JSON_FORMAT=false

# ==================== 安全配置 ====================
# CORS 允许的域名（逗号分隔）
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
# API 请求频率限制（每分钟）
RATE_LIMIT_PER_MINUTE=60

# ==================== 开发配置 ====================
# 是否跳过 Apple 收据验证（开发用）
SKIP_APPLE_VERIFICATION=false
# 模拟订阅过期时间（小时，开发用）
MOCK_SUBSCRIPTION_EXPIRY_HOURS=24